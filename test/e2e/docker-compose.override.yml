services:
  keycloak:
    environment:
      KC_HOSTNAME: http://localhost:8000
  fwd-auth:
    extra_hosts:
      - "host.docker.internal:host-gateway"
    environment:
      SESSION_DOMAIN: localhost
      OIDC_ENDPOINTS_BASE_URL: http://localhost:9000
      OIDC_REDIRECT_URI: http://localhost:9000/auth/oidc/callback
      OIDC_WELL_KNOWN_URL: http://keycloak:8080/realms/dev
      KEYCLOAK_ENABLED: true
      KEYCLOAK_SERVER_URL: http://keycloak:8080
      KEYCLOAK_REALM: dev
      KEYCLOAK_AUTH_METHOD: client_credentials
      KEYCLOAK_CLIENT_ID: fwd-auth-admin
      KEYCLOAK_CLIENT_SECRET: fwd-auth-admin-secret
      KEYCLOAK_CLIENT_ROLES_CLIENT_ID: test-app
